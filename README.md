### ä¸€ã€æ¦‚è¿°

å¼€ç®±å³ç”¨çš„ go-zero ç¤ºä¾‹ï¼Œå†…ç½®æœåŠ¡apiã€schedulerã€queueã€scriptã€‚

æ¡†æ¶åˆå§‹ç‰ˆæœ¬åŸºäº go-zero æ¡†æ¶çš„ 1.5.5 ç‰ˆæœ¬ï¼Œåç»­ä¼šå‚è€ƒ go-zero çš„ç‰ˆæœ¬å‡ºç›¸åº”çš„æ›´æ–°ã€‚

åœ¨ç†Ÿæ‚‰ go-zero æ¡†æ¶è¿‡ç¨‹ä¸­è¸©å‘å¾ˆå¤šï¼Œè¡ç”Ÿçš„ go-zero-box æ¡†æ¶ä¹Ÿæ˜¯ç›¸å½“äºç»éªŒè´´äº†ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´å¿«çš„åº¦è¿‡ç†Ÿæ‚‰æœŸã€‚

æ•´ç†å¹¶ä¸”å¼€æºä¸æ˜“ï¼Œåç»­è¿˜ä¼šæŒç»­å¢åŠ go-zeroæ¡†æ¶å’Œgoè¯­è¨€æ–°ç‰¹æ€§çš„ä½¿ç”¨ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿æ **issue**ï¼Œå¦‚æœæ‚¨è§‰å¾—é¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œå¸Œæœ›ç»™ä¸ª **star**ğŸ˜Šï¼Œååˆ†æ„Ÿè°¢ã€‚

### äºŒã€ç‰¹æ€§

- ç®€åŒ–æ¡†æ¶åŸç”Ÿå¼€å‘æ¨¡å‹ï¼Œä¼˜åŒ–äº†ä»£ç ç»“æ„ï¼Œè®¾è®¡å‡ºç¬¦åˆWebåº”ç”¨æ¡†æ¶çš„ä»£ç ç»“æ„ï¼Œä¾¿äºå¼€å‘è€…ä»£ç é˜…è¯»æ›´ä¾¿æ·ï¼Œå‡å°‘å¼€å‘æˆæœ¬ï¼›
- å¢åŠ äº†æ›´å¤šçš„ ORM APIï¼Œæ”¯æŒå¤æ‚çš„æ•°æ®æŸ¥è¯¢ä¸šåŠ¡ï¼›
- å¼•å…¥ asynq åº“ï¼Œå®ç°äº†é˜Ÿåˆ—ã€è°ƒåº¦ã€è„šæœ¬ç­‰åŠŸèƒ½ï¼›
- å¼•å…¥ wire åº“ï¼Œå®ç°äº†ä¾èµ–æ³¨å…¥åŠŸèƒ½ï¼›
- æ ‡å‡†åº“æ‰©å±•ï¼Œæ¯”å¦‚é€šè¿‡èŒƒå¼å®ç°çš„ä¸‰å…ƒè¡¨è¾¾å¼ ```tools.Any(a == b, a, b)```ï¼›
- æä¾›äº†åˆå§‹çš„ api ç¼–å†™ç¤ºä¾‹ï¼ŒåŒ…å«ç™»å½•ã€æ³¨å†Œã€é‰´æƒç­‰å¼€ç®±å³ç”¨çš„ä¸šåŠ¡åŠŸèƒ½ï¼›

Â·Â·Â·
è¿˜æœ‰å¾ˆå¤šæ›´å¤šçš„ç‰¹æ€§ï¼Œæ•¬è¯·æœŸå¾…...
### ä¸‰ã€æ¡†æ¶ä»‹ç»

go-zreo æ¡†æ¶ + goctl ä»£ç ç”Ÿæˆå·¥å…· + wire ä¾èµ–æ³¨å…¥ + Makefile å®ç°è‡ªåŠ¨åŒ–ç¼–è¯‘ã€‚

go-zero æ˜¯ä¸€ä¸ªé›†æˆäº†å„ç§å·¥ç¨‹å®è·µçš„ web å’Œ rpc æ¡†æ¶ï¼Œç¼©çŸ­ä»éœ€æ±‚åˆ°ä¸Šçº¿çš„è·ç¦»ï¼Œé€šè¿‡å¼¹æ€§è®¾è®¡ä¿éšœäº†å¤§å¹¶å‘æœåŠ¡ç«¯çš„ç¨³å®šæ€§ï¼Œç»å—äº†å……åˆ†çš„å®æˆ˜æ£€éªŒã€‚

goctl æ˜¯ go-zero å¾®æœåŠ¡æ¡†æ¶ä¸‹çš„ä»£ç ç”Ÿæˆå·¥å…·ã€‚ä½¿ç”¨ goctl å¯æ˜¾è‘—æå‡å¼€å‘æ•ˆç‡ï¼Œè®©å¼€å‘äººå‘˜å°†æ—¶é—´é‡ç‚¹æ”¾åœ¨ä¸šåŠ¡å¼€å‘ä¸Šï¼Œå…¶åŠŸèƒ½æœ‰ï¼šapiæœåŠ¡ç”Ÿæˆã€rpcæœåŠ¡ç”Ÿæˆã€modelä»£ç ç”Ÿæˆã€æ¨¡æ¿ç®¡ç†ã€‚

wire æ˜¯ä¸€ä¸ªä¾èµ–æ³¨å…¥å·¥å…·ï¼Œç”¨äºè§£å†³ Go è¯­è¨€ä¸­ä¾èµ–æ³¨å…¥çš„é—®é¢˜ã€‚é€šè¿‡ wireï¼Œæ‚¨å¯ä»¥è½»æ¾åœ°ç®¡ç†åº”ç”¨ç¨‹åºçš„ä¾èµ–å…³ç³»ï¼Œå¹¶ç¡®ä¿å®ƒä»¬åœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ³¨å…¥ã€‚

Makefile æ–‡ä»¶æè¿°äº† Linux ç³»ç»Ÿä¸‹é¡¹ç›®å·¥ç¨‹çš„ç¼–è¯‘è§„åˆ™ï¼Œåªéœ€è¦ä¸€ä¸ª `make bild` å‘½ä»¤ï¼Œæ•´ä¸ªå·¥ç¨‹å°±å¼€å§‹è‡ªåŠ¨æ„å»ºé¡¹ç›®ç¯å¢ƒï¼Œä¸å†éœ€è¦æ‰‹åŠ¨æ‰§è¡Œå¤§é‡çš„ `go build` å‘½ä»¤ï¼ŒMakefile æ–‡ä»¶å®šä¹‰äº†ä¸€ç³»åˆ—è§„åˆ™ï¼ŒæŒ‡æ˜äº†æºæ–‡ä»¶çš„ç¼–è¯‘é¡ºåºã€ä¾èµ–å…³ç³»ã€æ˜¯å¦éœ€è¦é‡æ–°ç¼–è¯‘ç­‰ï¼Œå¯ä»¥è¾“å…¥ `make help` æŸ¥çœ‹å‘½ä»¤é›†ã€‚

### å››ã€ä»£ç ç»“æ„

```text
.
â”œâ”€â”€ app                             åŒ…å«åº”ç”¨ç¨‹åºçš„ä¸»è¦ä»£ç 
â”‚   â”œâ”€â”€ doc                         é¡¹ç›®ä¸»ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ etc                         é™æ€é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ internal                    å†…éƒ¨ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ app.go                      åº”ç”¨ç¨‹åºçš„å…¥å£æ–‡ä»¶ï¼Œå®šä¹‰äº† API æœåŠ¡ã€é˜Ÿåˆ—æœåŠ¡å’Œè°ƒåº¦æœåŠ¡çš„å¯åŠ¨å‘½ä»¤ã€‚
â”‚   â”œâ”€â”€ wire.go                     ä¾èµ–æ³¨å…¥æ–‡ä»¶
â”‚   â””â”€â”€ wire_gin.go                 ä¾èµ–æ³¨å…¥ç”Ÿæˆæ–‡ä»¶
â”œâ”€â”€ build                           é¡¹ç›®æ„å»ºç›®å½•
â”‚   â”œâ”€â”€ app                         åº”ç”¨æ„å»ºç›®å½•  
â”‚   â”‚   â”œâ”€â”€ bin                     åº”ç”¨äºŒè¿›åˆ¶æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ deploy                  åº”ç”¨éƒ¨ç½²æ–‡ä»¶                 
â”‚   â”‚   â””â”€â”€ etc                     é…ç½®æ–‡ä»¶         
â”‚   â””â”€â”€ app.tar                     åº”ç”¨æ„å»ºæ‰“åŒ…æ–‡ä»¶ï¼ˆéƒ¨ç½²æ–‡ä»¶ï¼‰         
â”œâ”€â”€ deploy                          éƒ¨ç½²ç›®å½•
â”‚   â”œâ”€â”€ goctl                       ä»£ç ç”Ÿæˆå·¥å…·                       
â”‚   â”œâ”€â”€ sql                         æ•°æ®åº“è„šæœ¬
â”‚   â””â”€â”€ template                    æ¨¡æ¿æ–‡ä»¶ 
â”œâ”€â”€ pkg                             å·¥å…·åŒ…
â”œâ”€â”€ runtime                         é¡¹ç›®è¿è¡Œæ—¶ç›®å½•
â”œâ”€â”€ vendor                          é¡¹ç›®ä¾èµ–åŒ…
â”œâ”€â”€ .gitignore                      git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ go.mod                          é¡¹ç›®ä¾èµ–ç®¡ç†æ–‡ä»¶
â”œâ”€â”€ Makefile                        é¡¹ç›®æ„å»ºæ–‡ä»¶
â””â”€â”€ README.md                       é¡¹ç›®è¯´æ˜æ–‡ä»¶
```

### äº”ã€ç¯å¢ƒè¦æ±‚
- Golang >= 1.20
- MySql >= 5.7

### å…­ã€é¡¹ç›®éƒ¨ç½²
```shell
# ç›®å½•åˆå§‹åŒ–ï¼Œé¦–æ¬¡è¿è¡Œé¡¹ç›®å‰è¯·è¿è¡Œè¯¥å‘½ä»¤
$ make new

# ç”Ÿæˆapiä»£ç æ–‡ä»¶
$ make api

# ç”Ÿæˆmodelä»£ç æ–‡ä»¶
$ make model

# ç”Ÿæˆwireä»£ç æ–‡ä»¶
$ make wire

# æ„å»ºé¡¹ç›®
$ make build env=dev|test|prod

```

### ä¸ƒã€å®‰è£…
#### 1. go-zero
- ä»“åº“åœ°å€ï¼šhttps://github.com/zeromicro/go-zero
- æ–‡æ¡£åœ°å€ï¼šhttps://go-zero.dev/cn/

```shell
$ go get -u github.com/zeromicro/go-zero
```

#### 2. goctl
- ä»“åº“åœ°å€ï¼šhttps://github.com/zeromicro/go-zero/tree/master/tools/goctl
- æ–‡æ¡£åœ°å€ï¼šhttps://go-zero.dev/cn/docs/goctl/goctl

```shell
$ go get -u github.com/zeromicro/go-zero/tools/goctl
```

### å…«ã€å¸¸è§é—®é¢˜
#### 1 go mod tidy è¶…æ—¶ i/o timeout
```
1. ç¡®è®¤å½“å‰shell
echo $SHELL

2. ç¼–è¾‘ç›¸åº”çš„ Shell é…ç½®æ–‡ä»¶
a. å¦‚æœä½¿ç”¨ zsh
vim ~/.zshrc

a. å¦‚æœä½¿ç”¨ bash
vim ~/.bash_profile

3. æ·»åŠ é…ç½®ä¿¡æ¯
export GOPROXY=https://proxy.golang.org,https://mirrors.aliyun.com/goproxy/,direct

4. é‡è½½é…ç½®
source ~/.zshrc
source ~/.bash_profile

5. æŸ¥çœ‹æ›´æ–°ç»“æœ
go env GOPROXY
```

### å…³äºè´¡çŒ®

go-zero-box æ˜¯ä¸€ä¸ªåŸºäº [MIT](https://github.com/prf16/go-zero-box/blob/main/LICENSE) çš„å¼€æºé¡¹ç›®ï¼Œå¤§å®¶åœ¨ä½¿ç”¨ä¸­å‘ç°bugï¼Œæœ‰æ–°çš„ç‰¹æ€§ç­‰ï¼Œå‡å¯ä»¥å‚ä¸åˆ°go-zero-boxçš„è´¡çŒ®ä¸­æ¥ï¼Œæˆ‘ä»¬éå¸¸æ¬¢è¿å¤§å®¶çš„ç§¯æå‚ä¸ï¼Œä¹Ÿä¼šæœ€å¿«å“åº”å¤§å®¶æå‡ºçš„å„ç§é—®é¢˜ï¼Œprç­‰ã€‚

### go-zero-box ç”¨æˆ·

å¦‚æœè´µå…¬å¸ä¹Ÿå·²ä½¿ç”¨ go-zero-boxï¼Œæ¬¢è¿åœ¨ [ç™»è®°åœ°å€](https://github.com/prf16/go-zero-box/issues/1) ç™»è®°ï¼Œä»…ä»…ä¸ºäº†æ¨å¹¿ï¼Œä¸åšå…¶å®ƒç”¨é€”ã€‚

